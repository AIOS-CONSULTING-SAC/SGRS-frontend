<div >
  <h3 class="text-lg font-semibold text-slate-900 mb-4">{{ tituloComponente }}</h3>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Módulo</label>
      <p-dropdown [options]="modulos" optionLabel="descModulo" optionValue="codModulo"
      (ngModelChange)="cambiarModulo()"
        placeholder="Seleccione módulo" [(ngModel)]="codModulo" class="w-full" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Opción</label>
      <p-dropdown [options]="opciones" optionLabel="descOpcion" optionValue="codOpcion"
      (onChange)="cambiarOpcion()"
        placeholder="Seleccione opción" [(ngModel)]="codOpcion" class="w-full" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Tipo</label>
      <p-dropdown [options]="prefijos" optionLabel="descripcion1" optionValue="prefijo"
        placeholder="Seleccione tipo" [(ngModel)]="codPrefijo" class="w-full" />
    </div>
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Descripción 1</label>
      <input pInputText [(ngModel)]="desc1" placeholder="Ingrese descripción 1" class="w-full" />
    </div> 
    <div>
      <label class="block text-sm font-medium text-slate-700 mb-1">Estado</label>
      <p-dropdown placeholder="Especifique estado" [options]="estados"
        [(ngModel)]="idEstado" class="w-full" />
    </div>
  </div>

  <div class="flex justify-end flex-wrap gap-3 mb-6">
    <p-button label="Limpiar" severity="secondary" [raised]="true" icon="pi pi-eraser" (click)="limpiar()"
      class="w-full sm:w-auto text-gray-700" [style]="{ 'min-width': '130px' }" />
    <button pButton label="Buscar" severity="info" [raised]="true" (click)="buscar()" icon="pi pi-search"
      class="w-full sm:w-auto text-gray-700" [style]="{ 'min-width': '130px' }"></button>
    <p-button label="Registrar" severity="contrast" [raised]="true" (click)="registrar.emit()"
      icon="pi pi-plus" class="w-full sm:w-auto" [style]="{ 'min-width': '130px' }" />
  </div>

  <p-table [value]="parametros" [paginator]="true" [rows]="10" [loading]="loading">
    <ng-template pTemplate="header">
      <tr>
        <th>#</th>
        <th>Módulo</th>
        <th>Opción</th> 
        <th>Descripción 1</th> 
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-parametro let-i="rowIndex">
      <tr>
        <td>{{ i + 1 }}</td>
        <td>{{ parametro.descModulo }}</td>
        <td>{{ parametro.descOpcion }}</td> 
        <td>{{ parametro.descripcion1 }}</td> 
        <td>{{ parametro.descEstado }}</td>
        <td>
          <button pButton icon="pi pi-pencil" size="small" (click)="editar.emit(parametro)" severity="contrast"
            class="p-button-text"></button>
          <button pButton icon="pi pi-trash" size="small" *ngIf="parametro.idEstado == '1'" (click)="eliminar(parametro)"
            class="p-button-text" severity="danger"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-confirmdialog [style]="{ 'width': '420px' }" />
