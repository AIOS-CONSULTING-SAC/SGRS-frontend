<div class="p-6">
    <h3 class="text-lg font-semibold text-slate-900 mb-4">
        Mantenimiento > Parámetros > {{ parametro ? 'Editar parámetro' : 'Registrar parámetro' }}
    </h3>

    <form [formGroup]="form" (ngSubmit)="guardar()" class="space-y-4">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Módulo <small
                        class="p-error">*</small></label>
                <p-dropdown formControlName="codModulo" placeholder="Seleccione módulo" [options]="[]"
                    optionLabel="label" optionValue="value" class="w-full"
                    [class]="formHelper.esClaseInvalido('codModulo')">
                </p-dropdown>
                <small *ngIf="formHelper.esCampoInvalido('codModulo')"
                    class="p-error">{{formHelper.obtenerMensajeErrorDefecto()}}</small>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Opción <small
                        class="p-error">*</small></label>
                <p-dropdown formControlName="codOpcion" placeholder="Seleccione opción" [options]="[]"
                    optionLabel="label" optionValue="value" class="w-full"
                    [class]="formHelper.esClaseInvalido('codOpcion')">
                </p-dropdown>
                <small *ngIf="formHelper.esCampoInvalido('codOpcion')"
                    class="p-error">{{formHelper.obtenerMensajeErrorDefecto()}}</small>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 mb-1">Tipo <small
                        class="p-error">*</small></label>
                <p-dropdown formControlName="prefijo" placeholder="Seleccione tipo" [options]="[]"
                    optionLabel="label" optionValue="value" class="w-full"
                    [class]="formHelper.esClaseInvalido('prefijo')">
                </p-dropdown>
                <small *ngIf="formHelper.esCampoInvalido('prefijo')"
                    class="p-error">{{formHelper.obtenerMensajeErrorDefecto()}}</small>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <div>
                <app-form-input [formGroup]="form" controlName="desc01" label="Descripción 1"
                    placeholder="Ingrese descripción 1" [required]="true" [formHelper]="formHelper"></app-form-input>
            </div>
            <div>
                <app-form-input [formGroup]="form" controlName="desc02" label="Descripción 2"
                    placeholder="Ingrese descripción 2"  [formHelper]="formHelper"></app-form-input>
            </div>
            <div>
                <app-form-input [formGroup]="form" controlName="desc03" label="Descripción 3"
                    placeholder="Ingrese descripción 3" [formHelper]="formHelper"></app-form-input>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            
            <div>
                <app-form-input [formGroup]="form" controlName="int01" label="Entero 01"
                    placeholder="Ingrese valor entero 1"  [formHelper]="formHelper"></app-form-input>
            </div>
            <div>
                <app-form-input [formGroup]="form" controlName="int02" label="Entero 02"
                    placeholder="Ingrese valor entero 2" [formHelper]="formHelper"></app-form-input>
            </div>
             <div *ngIf="parametro">
                <label class="block text-sm font-medium text-slate-700 mb-1">Estado <small
                        class="p-error">*</small></label>
                <p-dropdown formControlName="idEstado" placeholder="Seleccione estado" [options]="[
            { label: 'Activo', value: 1 },
            { label: 'Inactivo', value: 0 }
          ]" class="w-full" [class]="formHelper.esClaseInvalido('idEstado')">
                </p-dropdown>
                <small *ngIf="formHelper.esCampoInvalido('idEstado')" class="p-error">
                    {{ formHelper.obtenerMensajeErrorDefecto() }}
                </small>
            </div>
        </div>


        <!-- Botones -->
        <div class="flex justify-end flex-wrap gap-3 mb-6">
            <button pButton label="Guardar" type="submit" icon="pi pi-save" [raised]="true" severity="contrast"
                class="min-w-[130px]"></button>
            <button pButton label="Ir atrás" type="button" (click)="volver.emit()" icon="pi pi-arrow-left"
                severity="secondary" [raised]="true" class="min-w-[130px]"></button>
        </div>
    </form>
</div>


<app-loading [show]="loading"></app-loading>